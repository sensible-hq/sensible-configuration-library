{
  "fingerprint": {
    "tests": [
      {
        "type": "startsWith",
        "text": "bankofamerica"
      },
      {
        "type": "startsWith",
        "text": "Account Number"
      },
      {
        "type": "startsWith",
        "text": "Account Summary"
      },
      {
        "type": "startsWith",
        "text": "Beginning balance"
      },
    ]
  },
  "fields": [
    {
      "id": "institution",
      "method": {
        "id": "constant",
        "value": "Bank of Anerica"
      }
    },
    {
      "id": "account_holder_name",
      "anchor": {
        "start": {
          "text": "Business",
          "type": "includes"
        },
        "match": {
          "text": "bankofamerica",
          "type": "startsWith"
        },
        "end": {
          "text": "Box",
          "type": "includes"
        }
      },
      "method": {
        "id": "region",
        "start": "left",
        "offsetX": -5,
        "offsetY": 0,
        "width": 3.5,
        "height": 0.6,
        "tiebreaker": "first",
        "sortLines": "readingOrderLeftToRight"
      }
    },
    {
      "id": "account_name",
      "anchor": {
        "match": {
          "text": "ACCOUNT NO",
          "type": "startsWith"
        }
      },
      "method": {
        "id": "region",
        "width": 3,
        "start": "left",
        "height": 0.15,
        "offsetX": -3,
        "offsetY": -0.05,
        "wordFilters": [
          ":"
        ]
      }
    },
    {
      "id": "statement_start_date",
      "anchor": "Beginning balance on",
      "type": "date",
      "method": {
        "id": "region",
        "width": 4,
        "offsetX": -0.1,
        "start": "left",
        "height": 0.2,
        "offsetY": -0.05,
        "sortLines": "readingOrderLeftToRight",
        "wordFilters": [
          "Beginning balance on "
        ]
      }
    },
    {
      "id": "statement_end_date",
      "anchor": "ending balance on",
      "type": "date",
      "method": {
        "id": "region",
        "width": 4,
        "offsetX": -0.1,
        "start": "left",
        "height": 0.2,
        "offsetY": -0.05,
        "sortLines": "readingOrderLeftToRight",
        "wordFilters": [
          "ending balance on "
        ]
      }
    },
    {
      "id": "account_number",
      "anchor": {
        "match": {
          "text": "Account number",
          "type": "startsWith",
          "isCaseSensitive": true
        }
      },
      "match": "first",
      "method": {
        "id": "region",
        "sortLines": "readingOrderLeftToRight",
        "width": 3,
        "height": 0.2,
        "offsetX": -0.1,
        "offsetY": -0.08,
        "start": "left",
        "wordFilters": [
          "Account number:",
          "Account number:"
        ]
      }
    },
    {
      "id": "accounts",
      "type": "sections",
      "range": {
        "externalRange": {
          "anchor": {
            "text": "Account number",
            "type": "startsWith",
            "reverse": true
          },
          "stop": {
            "text": "Account number",
            "type": "startsWith"
          },
          "stopOffsetY": 0.1,
          "offsetY": -0.1
        },
        "anchor": {
          "start": {
            "text": "Account number",
            "type": "startsWith"
          },
          "match": {
            "text": "Account Summary",
            "type": "startsWith"
          },
          "end": {
            "text": "Total withdrawals and other debits",
            "type": "equals"
          }
        },
        "stop": {
          "text": "Total withdrawals and other debits",
          "type": "equals"
        }
      },
      "fields": [
        {
          "id": "account_number",
          "anchor": {
            "match": {
              "text": "Account number",
              "type": "startsWith",
              "isCaseSensitive": true
            }
          },
          "match": "first",
          "method": {
            "id": "region",
            "sortLines": "readingOrderLeftToRight",
            "width": 3,
            "height": 0.2,
            "offsetX": -0.1,
            "offsetY": -0.08,
            "start": "left",
            "wordFilters": [
              "Account number:",
              "Account number:"
            ]
          }
        },
        {
          "id": "account_type",
          "anchor": "null not found",
          "method": {
            "id": "passthrough"
          }
        },
        {
          "id": "opening_balance",
          "anchor": {
            "start": {
              "text": "Account summary",
              "type": "startsWith"
            },
            "match": {
              "text": "Beginning balance on",
              "type": "startsWith"
            }
          },
          "type": "currency",
          "method": {
            "id": "row",
            "position": "right",
            "tiebreaker": 0,
            "sortLines": "readingOrderLeftToRight"
          }
        },
        {
          "id": "closing_balance",
          "anchor": {
            "start": {
              "text": "Account summary",
              "type": "startsWith"
            },
            "match": {
              "text": "Ending balance on",
              "type": "startsWith"
            }
          },
          "type": "currency",
          "method": {
            "id": "row",
            "position": "right",
            "tiebreaker": 0,
            "sortLines": "readingOrderLeftToRight"
          }
        },
        {
          "id": "_credits_transaction_data",
          "type": "sections",
          "range": {
            "externalRange": {
              "anchor": {
                "text": "Deposits and other credits",
                "type": "startsWith",
                "reverse": true,
              },
              "stop": "Description",
              "offsetY": -0.1,
              "stopOffsetY": 0.1
            },
            "anchor": {
              "start": {
                "text": "Ending balance on",
                "type": "startsWith"
              },
              "match": {
                "pattern": "^(0[1-9]|1[0-2])/(0[1-9]|[12][0-9]|3[01])/\\d{2}$",
                "type": "regex"
              },
              "end": {
                "text": "Total deposits and other credits",
                "type": "startsWith"
              }
            },
            "stop": {
              "text": "Total deposits and other credits",
              "type": "startsWith"
            },
            "stopOffsetY": -0.1
          },
          "fields": [
            {
              "id": "date",
              "type": "date",
              "anchor": {
                "match": {
                  "type": "regex",
                  "pattern": "^(0[1-9]|1[0-2])/(0[1-9]|[12][0-9]|3[01])/\\d{2}$"
                }
              },
              "method": {
                "id": "passthrough"
              }
            },
            {
              "id": "transaction_type",
              "anchor": {
                "match": {
                  "type": "regex",
                  "pattern": "^(0[1-9]|1[0-2])/(0[1-9]|[12][0-9]|3[01])/\\d{2}$"
                }
              },
              "method": {
                "id": "intersection",
                "verticalAnchor": "Description",
                "height": 0.5,
                "offsetX": 2.2,
                "offsetY": 0.1,
                "width": 5,
                "percentOverlapX": 0,
                "percentOverlapY": 0,
                "sortLines": "readingOrderLeftToRight",
                "wordFilters": [
                  "Description"
                ]
              }
            },
            {
              "id": "debit",
              "anchor": "null not found",
              "method": {
                "id": "passthrough"
              }
            },
            {
              "id": "credit",
              "anchor": {
                "match": {
                  "type": "regex",
                  "pattern": "^(0[1-9]|1[0-2])/(0[1-9]|[12][0-9]|3[01])/\\d{2}$"
                }
              },
              "type": "currency",
              "method": {
                "id": "intersection",
                "verticalAnchor": "Amount",
                "height": 0.5,
                "offsetX": 0,
                "offsetY": 0.1,
                "width": 1,
                "percentOverlapX": 0,
                "percentOverlapY": 0,
                "sortLines": "readingOrderLeftToRight"
              }
            },
            {
              "id": "balance",
              "anchor": "null not found",
              "method": {
                "id": "passthrough"
              }
            },
          ]
        },
        {
          "id": "_debits_transaction_data",
          "type": "sections",
          "range": {
            "externalRange": {
              "anchor": {
                "text": "Withdrawals and other debits",
                "type": "startsWith",
                "reverse": true,
              },
              "stop": "Description",
              "offsetY": -0.1,
              "stopOffsetY": 0.1
            },
            "anchor": {
              "start": [
                {
                  "text": "Total deposits and other credits",
                  "type": "startsWith"
                }
              ],
              "match": {
                "pattern": "^(0[1-9]|1[0-2])/(0[1-9]|[12][0-9]|3[01])/\\d{2}$",
                "type": "regex"
              },
              "end": {
                "text": "Total withdrawals and other debits",
                "type": "startsWith"
              }
            },
            "stop": [
              {
                "type": "any",
                "matches": [
                  {
                    "text": "Total withdrawals and other debits",
                    "type": "startsWith"
                  },
                  {
                    "text": "Subtotal for card account",
                    "type": "startsWith"
                  },
                  {
                    "text": "card account",
                    "type": "startsWith"
                  }
                ]
              }
            ],
            "stopOffsetY": -0.1
          },
          "fields": [
            {
              "id": "date",
              "anchor": {
                "match": {
                  "type": "regex",
                  "pattern": "^(0[1-9]|1[0-2])/(0[1-9]|[12][0-9]|3[01])/\\d{2}$"
                }
              },
              "method": {
                "id": "passthrough"
              }
            },
            {
              "id": "transaction_type",
              "anchor": {
                "match": {
                  "type": "regex",
                  "pattern": "^(0[1-9]|1[0-2])/(0[1-9]|[12][0-9]|3[01])/\\d{2}$"
                }
              },
              "method": {
                "id": "intersection",
                "verticalAnchor": "Description",
                "height": 0.5,
                "offsetX": 2.2,
                "offsetY": 0.1,
                "width": 5,
                "percentOverlapX": 0,
                "percentOverlapY": 0,
                "sortLines": "readingOrderLeftToRight",
                "wordFilters": [
                  "Description"
                ]
              }
            },
            {
              "id": "debit",
              "anchor": {
                "match": {
                  "type": "regex",
                  "pattern": "^(0[1-9]|1[0-2])/(0[1-9]|[12][0-9]|3[01])/\\d{2}$"
                }
              },
              "type": "currency",
              "method": {
                "id": "intersection",
                "verticalAnchor": "Amount",
                "height": 0.5,
                "offsetX": 0,
                "offsetY": 0.1,
                "width": 1,
                "percentOverlapX": 0,
                "percentOverlapY": 0,
                "sortLines": "readingOrderLeftToRight"
              }
            },
            {
              "id": "credit",
              "anchor": "null not found",
              "method": {
                "id": "passthrough"
              }
            },
            {
              "id": "balance",
              "anchor": "null not found",
              "method": {
                "id": "passthrough"
              }
            },
          ]
        }
      ],
      "computed_fields": [
        {
          "id": "transaction_data",
          "method": {
            "id": "customComputation",
            "jsonLogic": {
              "merge": [
                {
                  "var": "_credits_transaction_data"
                },
                {
                  "var": "_debits_transaction_data"
                }
              ]
            }
          }
        },
        {
          "id": "hide",
          "method": {
            "id": "suppressOutput",
            "source_ids": [
              "_credits_transaction_data",
              "_debits_transaction_data"
            ]
          }
        }
      ]
    }
  ]
}